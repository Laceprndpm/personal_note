[16:22:17] 学习CRT，已整理模板，分3个版本
[16:22:17] 拓展欧拉定理
**拓展欧拉定理：** 若要求 $a^k \bmod m$，当 $\gcd(a, m) \ne 1$ 时不可直接降幂，应使用 $a^{k \bmod \varphi(m) + \varphi(m)} \bmod m ,\; k\ge\varphi(m)$，其中 **`+ φ(m)` 不可省略**，否则当 $k < \varphi(m)$ 时可能出现错误结果。
Note:
$m\rightarrow \varphi(m) \rightarrow \varphi(\varphi(m)) \dots \rightarrow 1$ 不会超过 $2\log(m)$ 次，因此求 $a_1^{a_2^{a_3^{\cdots}}} \bmod m$ 只需要往上求 $2\log(n)$ 次。
>对于嵌套幂塔 $a_1^{a_2^{a_3^{\cdots}}} \bmod m$，我们可以递归构造模链 $m, \varphi(m), \varphi(\varphi(m)), \dots$，直到为 $1$，并自顶向下构造指数，自底向上模运算。由于 $\varphi(n) \le n/2$，模链长度不超过 $2\log m$，因此只需递归构造 $O(\log m)$ 层即可精确求值。

Q:如果他们互质，可以省略 $+\varphi(m)$ 对吗？
A:**可以省略**，不省略无害，但可能多余计算。
Q:该定理的适用条件，仅需 $m>1$ 吗？
答：是的，只要 $m>1$，就可以使用拓展欧拉定理。
计数，有直接计数、递推
排列和组合
隔板法
例题，倒数两个不错
## 排列:
对一个排列 `a[0..n-1]`，其下一个排列按如下规则构造：
### 步骤（算法流程）：
> 假设当前序列为：`a = [1, 3, 5, 4, 2]`
1. **从后往前找第一个 `i`，满足 `a[i] < a[i+1]`：**
    - 这是“下降转折点”，我们称之为“第一对逆序”。
    - 上例中：`i = 1`，因为 `a[1] = 3 < 5 = a[2]`。
    - 若找不到这样的 `i`，说明当前是最大排列，返回 `false`。
2. **从后往前找第一个 `j`，满足 `a[j] > a[i]`：**
    - 因为我们要找到最小的比 `a[i]` 大的数，替换掉 `a[i]`。
    - 上例中：`j = 4`，`a[4] = 2` 不满足；`j = 3`，`a[3] = 4 > 3`，满足。
3. **交换 `a[i]` 与 `a[j]`：**
    - 使得前缀更大，但要保证仍是最小的大。
    - 上例中：交换 `a[1]` 和 `a[3]`，得到 `[1, 4, 5, 3, 2]`
4. **将 `a[i+1..n-1]` 反转（reverse）：**
    - 因为后缀是递减的，要变成递增才能成为“下一个最小排列”。
    - 上例中，反转 `[5,3,2]` 变为 `[2,3,5]`，最终得到 `[1, 4, 2, 3, 5]`。

[23:07:37] 容斥定理
ALL CLEAR