---
title: E. Boring Segments
date: 2025-11-10
last_clear: 2025-11-10
tags:
  - edu
  - tag/双指针
  - tag/数据结构/线段树
grasp: 5
value: 0
difficulty: 2100
optional_difficulty:
source: https://codeforces.com/contest/1555/problem/E
article:
---
是极差，所以 `sort` + 双指针 感觉很自然
```cpp showLineNumbers
void solve()
{
    int n, m;
    cin >> n >> m;
    vector<array<i64, 3>> line(n);
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < 3; j++) {
            cin >> line[i][(j + 1) % 3];
        }
    }
    sor(line);
    LazySegmentTree<Info, Tag> lzt(m + 1, Info(0));
    int                        l = 0, r = 0;
    i64                        ans = INF;
    for (l = 0; l < n; l++) {
        while (r < n && lzt.rangeQuery(1, m).x == 0) {
            lzt.rangeApply(line[r][1], line[r][2], {1});
            r++;
        }
        if (lzt.rangeQuery(1, m).x != 0) {
            ans = min(ans, line[r - 1][0] - line[l][0]);
        }
        lzt.rangeApply(line[l][1], line[l][2], {-1});
    }
    cout << ans << '\n';
}
```
